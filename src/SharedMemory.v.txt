module SharedMemory(
    input wire clk,
    input wire [3:0] address,
    input wire [3:0] data_in,
    input wire write_enable,
    output reg [3:0] data_out
);
    reg [3:0] memory [0:15]; // 16x4-bit memory [cite: 471]

    always @(posedge clk) begin
        if (write_enable)
            memory[address] <= data_in;
        data_out <= memory[address];
    end
endmodule